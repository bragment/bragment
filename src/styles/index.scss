@import './mixins.scss';

// NOTE: import tailwindcss
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

html,
body,
#root {
  height: 100%;
  width: 100%;
  overflow: hidden;
}

body {
  margin: 0;
  padding: 0;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  *:not(input) {
    user-select: none;
  }

  .logo-text-mark {
    @include _svgMark(url(../assets/text-mark.svg));
  }

  .logo-feature-mark {
    @include _svgMark(url(../assets/feature-mark.svg));
  }

  .content-visibility-hidden {
    content-visibility: hidden;
  }

  // NOTE: override daisyui
  &.safari {
    input,
    btn {
      outline: none !important;
    }
  }
  .checkbox-accent,
  .btn-accent {
    --ac: 0 0% 100%;
  }
  .alert {
    animation: button-pop var(--animation-btn, 0.25s) ease-out;
  }
  .icon.loading,
  .form-single-input.loading,
  ul li > .action.loading {
    position: relative;
    &,
    &:hover {
      @apply pointer-events-none;
    }
    &::after {
      @apply mr-2 h-4 w-4 rounded-full border-2;
      animation: spin 2s linear infinite;
      border-top-color: transparent;
      border-left-color: transparent;
      border-bottom-color: currentColor;
      border-right-color: currentColor;
      content: '';
      position: absolute;
    }
  }
  .icon.loading {
    @apply h-4 w-4;
    &::after {
      @apply mr-0 h-full w-full;
    }
  }
  .clickable {
    animation: button-pop var(--animation-btn, 0.25s) ease-out;
    text-transform: var(--btn-text-case, uppercase);
    &:active:hover,
    &:active:focus {
      animation: none;
    }
    &:active:hover,
    &:active:focus {
      transform: scale(var(--btn-focus-scale, 0.95));
    }
  }
  // HACK: make dropdown working inside dropdown
  .dropdown.dropdown-open,
  .dropdown.dropdown-hover:hover,
  .dropdown:not(.dropdown-hover):focus,
  .dropdown:not(.dropdown-hover):focus-within {
    .dropdown-content {
      visibility: hidden;
      opacity: 0;
      --tw-scale-x: 0.95;
      --tw-scale-y: 0.95;
    }
    > .dropdown-content {
      visibility: visible;
      opacity: 1;
      --tw-scale-x: 1;
      --tw-scale-y: 1;
    }
  }
  // HACK: make drawer-mobile working at md screen
  @media (min-width: 768px) {
    .drawer-mobile {
      grid-auto-columns: max-content auto;
      & > .drawer-toggle {
        & ~ .drawer-content {
          @apply h-auto md:col-start-2;
        }
        & ~ .drawer-side {
          @apply overflow-y-auto;
          & > .drawer-overlay {
            @apply md:visible;
          }
          & > .drawer-overlay + * {
            @apply md:translate-x-0;
          }
        }
      }
    }
  }
}
